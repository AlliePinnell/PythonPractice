<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>COMP1112 Full Review Quiz</title>
  <style>
    :root {
      --primary: #ff3cbb;
      --background: #1f0118;
      --card: #270727;
      --accent: #ffb6f9;
      --text: white;
      --correct: #00ff66;
      --incorrect: #ff4c4c;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: var(--background);
      color: var(--text);
      font-weight: bold;
    }

    h1 {
      color: var(--accent);
      text-align: center;
    }

    .question {
      margin-bottom: 25px;
      padding: 15px;
      background: var(--card);
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      opacity: 0;
      animation: fadeInUp 0.5s ease forwards;
    }

    .question:nth-child(1) { animation-delay: 0.1s; }
    .question:nth-child(2) { animation-delay: 0.2s; }
    .question:nth-child(3) { animation-delay: 0.3s; }
    .question:nth-child(4) { animation-delay: 0.4s; }
    .question:nth-child(5) { animation-delay: 0.5s; }
    .question:nth-child(6) { animation-delay: 0.6s; }
    .question:nth-child(7) { animation-delay: 0.7s; }
    .question:nth-child(8) { animation-delay: 0.8s; }
    .question:nth-child(9) { animation-delay: 0.9s; }

    .correct {
      color: var(--correct);
      font-weight: bold;
      animation: pulse 0.4s ease-in-out;
    }

    .incorrect {
      color: var(--incorrect);
      font-weight: bold;
      animation: pulse 0.4s ease-in-out;
    }

    .answer-feedback {
      margin-top: 5px;
      display: none;
    }

    .result {
      font-size: 1.2em;
      font-weight: bold;
      margin-top: 20px;
      animation: glow 0.6s ease-in-out;
    }

    button {
      padding: 10px 20px;
      background: var(--card);
      color: var(--text);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
      animation: popIn 0.5s ease;
    }

    button:hover {
      background: var(--primary);
      transform: scale(1.05);
    }

    button:active {
      transform: scale(0.95);
    }

    label.burst {
      display: inline-block;
      animation: burst 0.3s ease;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.07); }
    }

    @keyframes popIn {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes glow {
      0% { text-shadow: 0 0 5px #fff, 0 0 10px var(--primary); }
      100% { text-shadow: 0 0 20px #fff, 0 0 30px var(--primary); }
    }

    @keyframes floatGlow {
      0%, 100% { text-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary); }
      50% { text-shadow: 0 0 20px var(--primary), 0 0 40px var(--primary); }
    }

    @keyframes burst {
      0% { transform: scale(1); color: var(--text); }
      50% { transform: scale(1.4); color: var(--accent); }
      100% { transform: scale(1); color: var(--text); }
    }
    
  </style>
</head>
<body>

<!-- Navigation -->
<div style="margin-top: 20px;">
  <button type="button" onclick="location.href='index.html'">Go to Page 1 (MC)</button>
  <button type="button" onclick="location.href='2.html'">Go to Page 2 (Time & OS)</button>
  <button type="button" onclick="location.href='3.html'">Go to Page 3 (MC)</button>
  <button type="button" onclick="location.href='4.html'">Go to Page 4 (Guess Output)</button>
  <button type="button" onclick="location.href='5.html'">Go to Page 5 (Math)</button>
  <button type="button" onclick="location.href='6.html'">Go to Page 6 (Thomas Doc)</button>
</div>

<h1 id="quizTitle">Sultan's Devious Course Review Quiz â€“ 1</h1>

<form id="quizForm"></form>
<div class="result" id="result"></div>
<button type="button" onclick="checkAnswers()">Submit Answers</button>

<!-- Repeat Nav for convenience -->
<div style="margin-top: 20px;">
  <button type="button" onclick="location.href='index.html'">Go to Page 1 (MC)</button>
  <button type="button" onclick="location.href='2.html'">Go to Page 2 (Time & OS)</button>
  <button type="button" onclick="location.href='3.html'">Go to Page 3 (MC)</button>
  <button type="button" onclick="location.href='4.html'">Go to Page 4 (Guess Output)</button>
  <button type="button" onclick="location.href='5.html'">Go to Page 5 (Math)</button>
  <button type="button" onclick="location.href='6.html'">Go to Page 6 (Thomas Doc)</button>
</div>

<script>
  // ðŸŽ¨ Theme Picker
  const themes = [
    {
      name: "Purple Pink",
      "--primary": "#ff3cbb",
      "--background": "#1f0118",
      "--card": "#270727",
      "--accent": "#ffb6f9",
      "--text": "white",
      "--correct": "#00ff66",
      "--incorrect": "#ff4c4c"
    },
    {
      name: "Teal Blue",
      "--primary": "#00bcd4",
      "--background": "#003b46",
      "--card": "#07575b",
      "--accent": "#66ffff",
      "--text": "#ffffff",
      "--correct": "#00ffcc",
      "--incorrect": "#ff6666"
    },
    {
      name: "Sunset Gold",
      "--primary": "#ff9900",
      "--background": "#1a1a1a",
      "--card": "#333333",
      "--accent": "#ffd700",
      "--text": "#fff5cc",
      "--correct": "#aaff00",
      "--incorrect": "#ff3300"
    },
    {
      name: "Matrix Green",
      "--primary": "#00ff00",
      "--background": "#000000",
      "--card": "#002200",
      "--accent": "#66ff66",
      "--text": "#ccffcc",
      "--correct": "#00ff00",
      "--incorrect": "#ff0000"
    }
  ];
  const theme = themes[Math.floor(Math.random() * themes.length)];
  for (const key in theme) {
    if (key.startsWith("--")) {
      document.documentElement.style.setProperty(key, theme[key]);
    }
  }

  // ðŸ§  Questions
  const questions = [
        ["What is the correct way to define a function in Python?", ["function myFunc():", "def myFunc[]:", "def myFunc():", "define myFunc():"], "c"],
        ["Which Python data type is used to store key-value pairs?", ["list", "tuple", "dict", "set"], "c"],
        ["Which function is used to get input from the user?", ["scan()", "input()", "get()", "fetch()"], "b"],
        ["What keyword is used to start a function in Python?", ["func", "define", "def", "function"], "c"],
        ["Which of the following is a numeric data type?", ["str", "bool", "int", "list"], "c"],
        ["Which operator is used for exponentiation in Python?", ["^", "**", "exp", "^^"], "b"],
        ["Which method adds an item to a list?", ["add()", "append()", "insert()", "extend()"], "b"],
        ["Which of the following is used to create a comment in Python?", ["--", "//", "#", "/* */"], "c"],
        ["What is the output of print(type(10))? (assume the < > are there)", ["class 'str'", "class 'float'", "class 'int'", "class 'bool'"], "c"],
        ["What does the 'not' operator do?", ["Returns True if operand is False", "Returns False always", "Negates numeric values", "Creates loops"], "a"],
        ["Which of the following is a loop in Python?", ["for", "foreach", "repeat", "do"], "a"],
        ["What does 'break' do in a loop?", ["Skips one iteration", "Ends the loop", "Starts the loop over", "Ignores the loop condition"], "b"],
        ["What is a lambda in Python?", ["A data type", "A variable", "An anonymous function", "A module"], "c"],
        ["Which of the following defines a list?", ["{1,2,3}", "[1,2,3]", "(1,2,3)", "<1,2,3>"], "b"],
        ["What does len([1,2,3]) return?", ["2", "3", "1", "4"], "b"],
        ["Which function can pause program execution?", ["pause()", "os.wait()", "time.sleep()", "wait()"], "c"],
        ["Which module is used for input validation?", ["inputCheck", "pyinputplus", "valinput", "regex"], "b"],
        ["Which module interacts with the file system?", ["fs", "os", "files", "path"], "b"],
        ["What is used to import a module?", ["#", "import", "include", "require"], "b"],
        ["What is recursion?", ["A loop", "A function calling itself", "Importing modules", "An error"], "b"],
        ["Which argument type allows default values?", ["*args", "**kwargs", "positional", "default"], "d"],
        ["Which of these is a conditional statement?", ["loop", "if", "for", "sultan"], "b"],
        ["How do you check equality in Python?", ["=", "equals", "==", "!="], "c"],
        ["Which is a valid Python identifier?", ["2cool", "first-name", "first_name", "my var"], "c"],
        ["How do you create a new directory with os module?", ["os.newdir()", "os.mkdir()", "os.createdir()", "os.dir()"], "b"],
        ["What is the extension for Python files?", [".java", ".py", ".ipynb", ".exe"], "b"],
        ["Which symbol separates dictionary keys and values?", ["-", "=", ":", "=>"], "c"],
        ["Which structure is immutable?", ["list", "tuple", "dict", "set"], "b"],
        ["How do you handle multiple conditions?", ["thou-shall", "switch", "if-elif-else", "for-if"], "c"],
        ["Which escape character inserts a new line?", ["\\n", "\\t", "\\r", "\\e"], "a"],
        ["Which of the following is not a loop?", ["for", "do", "while", "continue"], "b"],
        ["What does print('5' + '5') output?", ["10", "55", "Error", "'10'"], "b"],
        ["Which data type supports duplicate items?", ["set", "dict", "list", "All of the Above"], "c"],
        ["What keyword skips current loop iteration?", ["skip", "pass", "continue", "next"], "c"],
        ["Which loop runs until a condition is false?", ["for", "if", "while", "loop"], "c"],
        ["What is the output of 'bool(0)'?", ["True", "False", "Error", "None"], "b"],
        ["What is the default return type of input()?", ["int", "str", "bool", "float"], "b"],
        ["Which is a higher-order function?", ["sum()", "map()", "print()", "len()"], "b"],
        ["What does \\t do in a string?", ["Newline", "Backslash", "Tab", "Quote"], "c"],
        ["Which function finds length of string?", ["len()", "size()", "count()", "length()"], "a"],
        ["Which is a valid way to install pyinputplus?", ["install pyinputplus", "pip pyinputplus", "!pip install pyinputplus", "use pyinputplus"], "c"],
        ["What does os.getcwd() return?", ["Python version", "Current directory", "User name", "OS name"], "b"],
        ["What will 3//2 return?", ["1.5", "2", "1", "0"], "c"],
        ["Which keyword is used to define a class?", ["object", "struct", "class", "define"], "c"],
        ["Which of the following will create a tuple?", ["[1, 2]", "{1, 2}", "(1, 2)", "<1, 2>"], "c"],
        ["Which control flow statement does not exist in Python?", ["goto", "break", "continue", "if"], "a"],
        ["What does the continue statement do in a loop?", ["Stops the loop", "Skips the rest of the current iteration", "Starts the loop over", "Ends the program"], "b"]
      ];



  document.getElementById("quizTitle").textContent += ` (${questions.length} Questions)`;

  function burstLabel(label) {
    label.classList.remove("burst");
    void label.offsetWidth;
    label.classList.add("burst");
  }

  function attachBurstListeners() {
    document.querySelectorAll('input[type="radio"]').forEach(input => {
      input.addEventListener('change', () => burstLabel(input.parentElement));
    });
  }

  function shuffleArray(arr) {
    const copy = arr.slice();
    for (let i = copy.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [copy[i], copy[j]] = [copy[j], copy[i]];
    }
    return copy;
  }

  window.onload = function () {
    const form = document.getElementById("quizForm");
    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      const qNum = i + 1;
      const shuffledOptions = q[1].map((text, index) => ({
        text,
        value: String.fromCharCode(97 + index)
      })).sort(() => Math.random() - 0.5);

      div.innerHTML = `<h3>${qNum}. ${q[0]}</h3>` +
        shuffledOptions.map(opt => 
          `<label><input type="radio" name="q${qNum}" value="${opt.value}"> ${opt.text}</label><br>`
        ).join('') +
        `<label><input type="radio" name="q${qNum}" value="null"> <i>Null / Skip this question</i></label><br>` +
        `<div class="answer-feedback" id="feedback${qNum}"></div>`;

      form.appendChild(div);
    });
    attachBurstListeners();
  };

  function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function checkAnswers() {
  let score = 0, counted = 0;
  let interrupted = false;

  // Add listeners to interrupt animation
  function interrupt() {
    interrupted = true;
    window.removeEventListener('keydown', interrupt);
    window.removeEventListener('mousedown', interrupt);
  }

  window.addEventListener('keydown', interrupt);
  window.addEventListener('mousedown', interrupt);

  for (let i = 0; i < questions.length; i++) {
    const qNum = i + 1;
    const correct = questions[i][2];
    const userAnswer = document.querySelector(`input[name="q${qNum}"]:checked`);
    const feedback = document.getElementById(`feedback${qNum}`);
    const questionDiv = feedback.closest('.question');
    const options = document.querySelectorAll(`input[name="q${qNum}"]`);
    const optionLabels = [...options].map(input => input.parentElement.textContent.trim());

    if (!interrupted) {
      questionDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
      await sleep(100);
    }

    feedback.style.display = 'block';

    if (userAnswer) {
      if (userAnswer.value === "null") {
        feedback.textContent = "Question was skipped and not counted.";
        feedback.className = "answer-feedback";
        continue;
      }
      counted++;
      if (userAnswer.value === correct) {
        feedback.innerHTML = '<img src="1329878082605158491.webp" alt="check" style="width:88px;height:88px;vertical-align:middle;margin-right:6px;">Correct!';
        feedback.className = "answer-feedback correct";
        score++;
      } else {
        const correctAnswer = optionLabels[correct.charCodeAt(0) - 97];
        feedback.textContent = `Incorrect.`;
        feedback.className = "answer-feedback incorrect";
      }
    } else {
      const correctAnswer = optionLabels[correct.charCodeAt(0) - 97];
      feedback.textContent = `No answer selected.`;
      feedback.className = "answer-feedback incorrect";
      counted++;
    }

    if (!interrupted) {
      await sleep(400);
    }
  }

  // Clean up listeners
  window.removeEventListener('keydown', interrupt);
  window.removeEventListener('mousedown', interrupt);

  document.getElementById('result').textContent = `You got ${score} out of ${counted} counted questions correct.`;
  document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'center' });
}
</script>

</body>
</html>